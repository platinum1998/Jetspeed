!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.map={},e}();t.Globals=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=function(){function e(){}return e.Initialise=function(e,t,n,a){var r=BABYLON.MeshBuilder.CreateTorus("ring",{thickness:.05},a);r.position=new BABYLON.Vector3(0,-2,100),r.scaling=new BABYLON.Vector3(20,20,20),r.rotation=new BABYLON.Vector3(1.5,0,0),r.checkCollisions=!0,r.material=o.Content.GetMaterialByName("Hoop Material");for(var i=0;i<e;i++){var s=r.createInstance("hoop"+i);s.position.x=BABYLON.Scalar.RandomRange(t,50)+i,s.position.y=1,s.position.z=BABYLON.Scalar.RandomRange(-50,n)+i,s.checkCollisions=!0,this.hoops.push(s)}},e.hoops=new Array,e}();t.BonusGenerator=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(){function e(){}return e.LoadContent=function(){var t=new BABYLON.AssetsManager(o.Globals._scene);e.MeshList=t.addMeshTask("block_instance","","assets/geometry/","jet_rxtz.babylon"),e.MatList.set("Hoop Material",new BABYLON.StandardMaterial("hoopMat",o.Globals._scene)),e.MatList.set("Ship Material",new BABYLON.StandardMaterial("shipMat",o.Globals._scene)),e.MatList.get("Hoop Material").diffuseColor=new BABYLON.Color3(1,0,1),e.MatList.get("Hoop Material").emissiveColor=new BABYLON.Color3(1,0,1),e.MatList.get("Ship Material").diffuseColor=new BABYLON.Color3(1,.98,.95),e.MatList.get("Ship Material").specularColor=new BABYLON.Color3(0,0,0),t.load()},e.GetMaterialByName=function(t){return e.MatList.get(t)},e.MatList=new Map,e}();t.Content=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=n(5),r=n(0),i=n(1),s=n(2),c=n(8),l=function(){function e(e){this._canvas=document.getElementById(e),this._engine=new BABYLON.Engine(this._canvas,!0),r.Globals._scene=new BABYLON.Scene(this._engine)}return e.prototype.initialise=function(){var e=this;r.Globals._scene.actionManager=new BABYLON.ActionManager(r.Globals._scene),r.Globals._scene.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnKeyDownTrigger,(function(e){r.Globals.map[e.sourceEvent.key]="keydown"==e.sourceEvent.type}))),r.Globals._scene.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnKeyUpTrigger,(function(e){r.Globals.map[e.sourceEvent.key]="keydown"==e.sourceEvent.type}))),c.Input.UpdateInput(),o.GUI.create(),a.World.initialise(r.Globals._scene,this._canvas),s.Content.LoadContent();r.Globals._scene.registerBeforeRender((function(){var t;e._delta=e._engine.getDeltaTime(),a.World.update(e._delta),s.Content.MeshList.onSuccess=function(e){(t=e.loadedMeshes[0]).material=s.Content.GetMaterialByName("Ship Material"),t.position.x=0,t.position.y=-1,t.position.z=-14,t.scaling.x=100,t.scaling.y=100,t.scaling.z=100,r.Globals._scene.registerBeforeRender((function(){t.position.z+=2.5;for(var e=0;e<i.BonusGenerator.hoops.length;e++)t.intersectsMesh(i.BonusGenerator.hoops[e])&&console.log("BONUS! x100");c.Input.a_key&&(t.position.x-=1.6,t.rotation=BABYLON.Vector3.Lerp(t.rotation,new BABYLON.Vector3(0,0,.8),.3),a.World.camera.camObj.rotation.z=BABYLON.Scalar.Lerp(a.World.camera.camObj.rotation.z,BABYLON.Tools.ToRadians(4),.1)),c.Input.d_key?(t.position.x+=1.6,t.rotation=BABYLON.Vector3.Lerp(t.rotation,new BABYLON.Vector3(0,0,-.8),.3),a.World.camera.camObj.rotation.z=BABYLON.Scalar.Lerp(a.World.camera.camObj.rotation.z,BABYLON.Tools.ToRadians(-4),.1)):(t.rotation=BABYLON.Vector3.Lerp(t.rotation,new BABYLON.Vector3(0,0,0),.2),a.World.camera.camObj.rotation.z=BABYLON.Scalar.Lerp(a.World.camera.camObj.rotation.z,BABYLON.Tools.ToRadians(0),.1)),a.World.camera.camObj.position.x=t.position.x}))}}))},e.prototype.playLoop=function(){var e=this;this._engine.runRenderLoop((function(){r.Globals._scene.clearColor=new BABYLON.Color4(1,.9,.8,1),r.Globals._scene.render()})),window.addEventListener("resize",(function(){e._engine.resize()}))},e}();window.addEventListener("DOMContentLoaded",(function(){var e=new l("renderCanvas");e.initialise(),e.playLoop()}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.create=function(){var e=BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("UI");this.distance_travelled=new BABYLON.GUI.TextBlock,this.distance_travelled.text=""+this.distance,this.distance_travelled.color="black",this.distance_travelled.fontSize=20,this.distance_travelled.alpha=.5,this.distance_travelled.top=-400,e.addControl(this.distance_travelled)},e.distance=0,e}();t.GUI=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),a=n(7),r=n(1),i=function(){function e(){}return e.initialise=function(t,n){var i=new BABYLON.AssetsManager(t);this.camera=new o.PerspCamera(new BABYLON.Vector3(0,8,-31),t,n),new BABYLON.HemisphericLight("light",new BABYLON.Vector3(.25,.75,-.25),t).intensity=1,a.BlockGenerator.Initialise(t,i,e.blocks),r.BonusGenerator.Initialise(2,-50,500,t),i.load(),t.fogMode=BABYLON.Scene.FOGMODE_LINEAR,t.fogDensity=.03,t.fogStart=5,t.fogEnd=900,t.fogColor=new BABYLON.Color3(1,.9,.8)},e.update=function(e){this.camera.camObj.position.z+=2.5},e}();t.World=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,n){this.camObj=new BABYLON.FreeCamera("cam1",e,t),this.camObj.setTarget(new BABYLON.Vector3(0,6,0)),this.camObj.attachControl(n,!0),this.camObj.inputs.clear(),this.camObj.fov=-80}return e.prototype.update=function(e){},e}();t.PerspCamera=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.probability=function(e){return!!e&&Math.random()<=e},e.BlockWithinRangeZ=function(e,t,n){return Math.floor(Math.abs(t-e))<=n},e.Initialise=function(e,t,n){var o=this;t.addMeshTask("piano task","","assets/geometry/","block.babylon").onSuccess=function(t){var n=t.loadedMeshes[0];n.applyFog=!0,n.setPivotPoint(new BABYLON.Vector3(0,-.005,0)),n.scaling=new BABYLON.Vector3(3e3,3e3,3e3),n.position.x=-20,n.position.y=-50,n.position.z=100;for(var a=[],r=0;r<100;r++)for(var i=0;i<50;i++)a[r]=n.instantiateHierarchy(),a[r].position.x=30*r-1500,a[r].position.z=30*i,o.probability(.97)?a[r].scaling.y=BABYLON.Scalar.RandomRange(10,2e3):a[r].scaling.y=8e4;a[a.length-1];e.registerBeforeRender((function(){}))}},e.GenerateBlocksRealtime=function(t,n,o,a,r,i,s,c,l){if(e.BlockWithinRangeZ(o,c,t))for(var u=0;u<a;u++);},e}();t.BlockGenerator=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(){function e(){}return e.UpdateInput=function(){o.Globals._scene.onKeyboardObservable.add((function(t){switch(t.type){case BABYLON.KeyboardEventTypes.KEYDOWN:"a"==t.event.key&&(e.a_key=!0),"d"==t.event.key&&(e.d_key=!0);break;case BABYLON.KeyboardEventTypes.KEYUP:e.a_key=!1,e.d_key=!1}}))},e}();t.Input=a}]);