!function(e){var n={};function t(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(o,a,function(n){return e[n]}.bind(null,a));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=1)}([function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.Initialise=function(e,n,t,o){var a=BABYLON.MeshBuilder.CreateTorus("ring",{thickness:.05},o),r=new BABYLON.StandardMaterial("hoop_material",o);r.diffuseColor=new BABYLON.Color3(1,0,1),r.emissiveColor=new BABYLON.Color3(1,0,1),a.position=new BABYLON.Vector3(0,-2,100),a.scaling=new BABYLON.Vector3(20,20,20),a.rotation=new BABYLON.Vector3(1.5,0,0),a.checkCollisions=!0,a.material=r;for(var i=0;i<e;i++){var s=a.createInstance("hoop"+i);s.position.x=BABYLON.Scalar.RandomRange(n,50)+i,s.position.y=1,s.position.z=BABYLON.Scalar.RandomRange(-50,t)+i,s.checkCollisions=!0,this.instances.push(s)}},e.instances=new Array,e}();n.BonusGenerator=o},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(2),a=t(3),r=t(6),i=t(0),s=function(){function e(e){this._canvas=document.getElementById(e),this._engine=new BABYLON.Engine(this._canvas,!0),r.Globals._scene=new BABYLON.Scene(this._engine)}return e.prototype.initialise=function(){var e=this;r.Globals._scene.actionManager=new BABYLON.ActionManager(r.Globals._scene),r.Globals._scene.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnKeyDownTrigger,(function(e){r.Globals.map[e.sourceEvent.key]="keydown"==e.sourceEvent.type}))),r.Globals._scene.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnKeyUpTrigger,(function(e){r.Globals.map[e.sourceEvent.key]="keydown"==e.sourceEvent.type}))),o.GUI.create(),a.World.initialise(r.Globals._scene,this._canvas);var n=new BABYLON.AssetsManager(r.Globals._scene),t=n.addMeshTask("block_instance","","assets/geometry/","jet_rxtz.babylon");n.load();var s=0;r.Globals._scene.registerBeforeRender((function(){var n;e._delta=e._engine.getDeltaTime(),a.World.update(e._delta),++s>=.5*e._delta&&(o.GUI.distance++,s=0),o.GUI.distance_travelled.text=""+o.GUI.distance,t.onSuccess=function(e){var t=new BABYLON.StandardMaterial("block_mat",r.Globals._scene);t.diffuseColor=new BABYLON.Color3(1,.98,.95),t.specularColor=new BABYLON.Color3(0,0,0),(n=e.loadedMeshes[0]).material=t,n.position.x=0,n.position.y=-1,n.position.z=-14,n.scaling.x=100,n.scaling.y=100,n.scaling.z=100,r.Globals._scene.registerBeforeRender((function(){n.position.z+=2.5;for(var e=0;e<i.BonusGenerator.instances.length;e++)n.intersectsMesh(i.BonusGenerator.instances[e])&&(o.GUI.distance=o.GUI.distance+100);r.Globals.map.a||r.Globals.map.A?(n.position.x-=1.6,n.rotation=BABYLON.Vector3.Lerp(n.rotation,new BABYLON.Vector3(0,0,.8),.3),a.World.camera.camObj.rotation.z=BABYLON.Scalar.Lerp(a.World.camera.camObj.rotation.z,BABYLON.Tools.ToRadians(4),.1)):r.Globals.map.d||r.Globals.map.D?(n.position.x+=1.6,n.rotation=BABYLON.Vector3.Lerp(n.rotation,new BABYLON.Vector3(0,0,-.8),.3),a.World.camera.camObj.rotation.z=BABYLON.Scalar.Lerp(a.World.camera.camObj.rotation.z,BABYLON.Tools.ToRadians(-4),.1)):(n.rotation=BABYLON.Vector3.Lerp(n.rotation,new BABYLON.Vector3(0,0,0),.2),a.World.camera.camObj.rotation.z=BABYLON.Scalar.Lerp(a.World.camera.camObj.rotation.z,BABYLON.Tools.ToRadians(0),.1)),a.World.camera.camObj.position.x=n.position.x}))}}))},e.prototype.playLoop=function(){var e=this;this._engine.runRenderLoop((function(){r.Globals._scene.clearColor=new BABYLON.Color4(1,.9,.8,1),r.Globals._scene.render()})),window.addEventListener("resize",(function(){e._engine.resize()}))},e}();window.addEventListener("DOMContentLoaded",(function(){var e=new s("renderCanvas");e.initialise(),e.playLoop()}))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.create=function(){var e=BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("UI");this.distance_travelled=new BABYLON.GUI.TextBlock,this.distance_travelled.text=""+this.distance,this.distance_travelled.color="black",this.distance_travelled.fontSize=20,this.distance_travelled.alpha=.5,this.distance_travelled.top=-400,e.addControl(this.distance_travelled)},e.distance=0,e}();n.GUI=o},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(4),a=t(5),r=t(0),i=function(){function e(){}return e.initialise=function(n,t){var i=new BABYLON.AssetsManager(n);this.camera=new o.PerspCamera(new BABYLON.Vector3(0,8,-31),n,t),new BABYLON.HemisphericLight("light",new BABYLON.Vector3(.25,.75,-.25),n).intensity=1,a.BlockGenerator.Initialise(n,i,e.blocks),r.BonusGenerator.Initialise(2,-50,500,n),i.load(),n.fogMode=BABYLON.Scene.FOGMODE_LINEAR,n.fogDensity=.03,n.fogStart=5,n.fogEnd=900,n.fogColor=new BABYLON.Color3(1,.9,.8)},e.update=function(e){this.camera.camObj.position.z+=2.5},e}();n.World=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,n,t){this.camObj=new BABYLON.FreeCamera("cam1",e,n),this.camObj.setTarget(new BABYLON.Vector3(0,6,0)),this.camObj.attachControl(t,!0),this.camObj.inputs.clear(),this.camObj.fov=-80}return e.prototype.update=function(e){},e}();n.PerspCamera=o},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.probability=function(e){return!!e&&Math.random()<=e},e.BlockWithinRangeZ=function(e,n,t){return Math.floor(Math.abs(n-e))<=t},e.Initialise=function(e,n,t){var o=this;n.addMeshTask("piano task","","assets/geometry/","block.babylon").onSuccess=function(n){var t=n.loadedMeshes[0];t.applyFog=!0,t.setPivotPoint(new BABYLON.Vector3(0,-.005,0)),t.scaling=new BABYLON.Vector3(3e3,3e3,3e3),t.position.x=-20,t.position.y=-50,t.position.z=100;for(var a=[],r=0;r<100;r++)for(var i=0;i<50;i++)a[r]=t.instantiateHierarchy(),a[r].position.x=30*r-1500,a[r].position.z=30*i,o.probability(.97)?a[r].scaling.y=BABYLON.Scalar.RandomRange(10,2e3):a[r].scaling.y=8e4;a[a.length-1];e.registerBeforeRender((function(){}))}},e.GenerateBlocksRealtime=function(n,t,o,a,r,i,s,c,l){if(e.BlockWithinRangeZ(o,c,n))for(var u=0;u<a;u++);},e}();n.BlockGenerator=o},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.map={},e}();n.Globals=o}]);